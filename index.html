<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>쥐띠 메시지</title>

  <style>
    @font-face {
    font-family:'BM Yeonsung';
    src: url('https://yoo-heasol.github.io/rat-zodiac/fonts/BMYeonsung.woff2') format('woff2');
    font-style: normal;
    font-style: normal;
   }

    @font-face {
      font-family: 'Nanum Myeongjo';
      src: url('https://yoo-heasol.github.io/rat-zodiac/fonts/NanumMyeongjo.woff2') format('woff2');
      font-weight: 700;
      font-style: normal;
      font-styley: normal;
    }

    body {
      font-family: 'Nanum Myeongjo', serif;
    }
  
    .bm-title, .chat-text {
      font-family: 'BM Yeonsung', sans-serif;
    }


  
    .svg-message-text, .message-text {
      font-family: 'Nanum Myeongjo', serif;
    }

    .svg-wrapper {
    
      position: relative;
      scale: 120%;
      /**width: 130%;
      height: 330px;**/
      margin: 0 auto;
    
    }

    .svg-background {
      width: 100%;
      height: 100%;
      /**filter: blur(4px);
      backdrop-filter: blur(5px);**/
    }

    .svg-message-text {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      color: #62472F;
      text-align: center;
      font-size: 18px;
      font-weight: 700;
      line-height: 150%;
      padding: 36px;
      box-sizing: border-box;
    }
    .svg-message-text div {
      margin-bottom: 8px;
      font-size: 20px;
      animation: fadein 1s ease-in forwards;
    }
    
    @keyframes fadein {
      0% { opacity: 0; transform: translateY(5px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    .mouse-container {
      margin-top: auto;
      margin-bottom: 80px;
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: flex-end;
    }

    .chat-bubble {
      position: relative;
      scale: 140%;
      
    }

    .chat-bubble img {
      width: 180px;
      margin-bottom: 20%;
      
    }

    .chat-text {
      position: absolute;
      top: 28%;
      left: 10%;
      transform: translateY(-30%);
      width: 120px;
      font-size: 13px;
      color: #836B56;
      font-family: "BM Yeonsung";
      text-align: center;
      line-height: 136%;
    }

    .mouse {
      width: 150px;
      margin-left: -10px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      background: url('images/bg_rat.png') no-repeat center center;
      background-size: cover;
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .bm-title {
      font-family: 'BM Yeonsung', sans-serif;
      margin-top: 40px;
      text-align: center;
      color: #FFF;
      font-size: 33.409px;
      font-style: normal;
      font-weight: 400;
      line-height: 136%;
    }

    .message-box {
      position: relative;
      width: 254px;
      height: 196px;
      margin-top: 20px;
    }

    .message-box img {
      width: 100%;
      height: 100%;
    }

    .message-text {
      position: absolute;
      top: 0;
      left: 0;
      width: 254px;
      height: 196px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      color: #62472F;
      text-align: center;
      font-family: Nanum Myeongjo;
      font-size: 22.814px;
      font-style: normal;
      font-weight: 700;
      line-height: 150%;
    }

    /**.mouse-container {
      margin-top: auto;
      margin-bottom: 20px;
      width: 100%;
      display: flex;
      justify-content: flex-end;
      align-items: flex-end;
      padding-right: 50px;
    }**/

    .chat-bubble {
      position: relative;
      padding-right: 20px;
       /* 180px total - 38px from mouse right */
    }

    .chat-bubble img {
      width: 160px;
      
    }

    .chat-text {
      position: absolute;
      top: 30%;
      left: 7%;
      transform: translateY(-30%);
      width: 130px;
      font-size: 11px;
      color: #836B56;
      font-family: "BM Yeonsung";
      text-align: center;
      line-height: 130%;
    }

    .mouse {
      width: 80px;
    }
  </style>


</head>
<body>
  <div class="bm-title">더 나은 삶을 위한<br>오늘의 진언</div>

  <div class="message-box">
    
    <div class="svg-wrapper">
      <img src="images/img_bg_txt.svg" alt="메시지 배경" class="svg-background" />
      <div class="svg-message-text" id="message"></div>
    </div>
    
    <div class="message-text" id="message">
      <!-- JS로 랜덤 메시지 들어옴 -->
    </div>
  </div>

  <div class="mouse-container">
    <div class="chat-bubble">
      <img src="images/img_chat.png" alt="말풍선" />
      <div class="chat-text">
        <!-- JS로 말풍선 문구 들어옴 -->
        어떤 진언인지<br />설명해 드릴게요~!
      </div>

    </div>
    <img class="mouse" src="images/img_rat.png" alt="쥐 캐릭터" />
  </div>
    <script>
      const messages = [
        [["옴 바아라<br>바다라 훔 바탁"], "풍요롭고 안락한 생활을<br>성취하는 진언이에요."],
        [["옴 기리나라 모나라<br>훔 바탁"], "온갖 불안에서 마음의 평온을<br>얻는 진언이에요."],
        [["옴 기리기리 바아라<br>훔 바탁"], "뱃속의 온갖 질병을<br>낫게 하는 진언이에요."],
        [["옴 제세제야 도미니<br>도제 삿다야 훔 바탁"], "모든 도깨비와 귀신을<br>항복시키는 진언이에요."],
        [["옴 이베이베 이파야<br>마하 사리예 사바하"], "천신 악마 외도들을<br>항복시키는 진언이에요."],
        [["옴 바아라 아니바라<br>닙다야 사바하"], "모든 원수와 적을 꺽어서<br>항복시키는 진언이에요."],
        [["옴 바아라나야<br>훔 바탁"], "온갖 걱정과 두려움을<br>없애는 진언이에요."],
        [["옴 도비가야<br>도비바라<br>바리니 사바하"], "어두운 눈을 밝게 하여<br>광명을 보는 진언이에요."],
        [["옴 소싯지<br>아리 사바하"], "심한 열병을 앓을 때<br>나을 수 있는 진언이에요."],
        [["옴 아자미례<br>사바하"], "승진하거나 높은 관직을<br>얻는 진언이에요."],
        [["옴 가마라<br>사바하"], "좋은 친구와 동료를<br>만나게 하는 진언이에요."]
      ];


      const container = document.getElementById('message');
  
     function showLinesOneByOne(lines, delay = 1800) {
      const textLines = lines[0]; // 본문 메시지들
      const chatLine = lines[1];  // 말풍선 메시지
    
      container.innerHTML = '';
    
      textLines.forEach((line, i) => {
        setTimeout(() => {
          container.innerHTML = ''; // 한 줄씩만 보이게
          const div = document.createElement('div');
          div.innerHTML = line;
          div.style.opacity = 0;
          div.style.transition = 'opacity 1s ease-in';
          div.style.display = 'block';
          container.appendChild(div);
          requestAnimationFrame(() => {
            div.style.opacity = 1;
          });
        }, i * delay);
      });
    
      // 마지막 줄이 출력된 후 말풍선 변경
      setTimeout(() => {
        const chat = document.querySelector('.chat-text');
        if (chat) {
          chat.innerHTML = chatLine;
        }
      }, textLines.length * delay);
    }


      // 실행
      const randomLines = messages[Math.floor(Math.random() * messages.length)];
      showLinesOneByOne(randomLines, 2400); // 감성적 템포로 약 2.4초 간격
</script>
   
</body>
</html>
